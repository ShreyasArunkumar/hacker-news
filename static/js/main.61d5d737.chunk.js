(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),l=(a(12),a(2)),s=a.n(l),i=a(5),u=a(1);a(14);function m(e){var t=e.type,a=void 0===t?"button":t,n=e.children;return r.a.createElement("button",{className:"news_feed__button",type:a},n)}a(15);function h(e){var t=e.type,a=void 0===t?"text":t,n=e.name,c=e.defaultValue,o=e.className,l=void 0===o?"":o;return r.a.createElement("input",{type:a,name:n,defaultValue:c,className:"news_feed__input ".concat(l)})}var f=a(23);a(16);function p(e,t){localStorage.setItem(e,t)}function d(){return r.a.createElement("svg",{width:"9",height:"6",viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M4.5 4.30616L0.999876 0.998597C0.913478 0.915513 0.770821 0.91749 0.682414 1.00255L0.0675816 1.59404C-0.020826 1.6791 -0.0228354 1.81758 0.0635628 1.90066L4.33725 5.94016C4.38145 5.98368 4.44173 6.00346 4.5 5.99951C4.56028 6.00148 4.61855 5.9817 4.66275 5.94016L8.93644 1.90066C9.02284 1.81758 9.02083 1.6791 8.93242 1.59404L8.31759 1.00255C8.22918 0.917491 8.08652 0.915513 8.00012 0.998598L4.5 4.30616Z",fill:"black"}))}function w(e){var t=e.data,a=e.onClickNext,n=e.onClickPrev,c=e.incrementVote,o=e.page,l=e.hideNews;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Comments"),r.a.createElement("th",null,"Vote Count"),r.a.createElement("th",null,"Up Votes"),r.a.createElement("th",{className:"wd100",style:{width:"100%"}},"News Details"))),r.a.createElement("tbody",null,!!t&&t.map((function(e,t){return r.a.createElement("tr",{key:e.points},r.a.createElement("td",null,e.num_comments),r.a.createElement("td",null,e.points),r.a.createElement("td",{onClick:function(){return c(t)},className:"pointer text-center rotate90deg"},r.a.createElement(d,null)),r.a.createElement("td",null,r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title),r.a.createElement("span",{className:"news_feed__info"},r.a.createElement("span",{className:"news_feed__info_gray"}," (".concat(function(e){try{return new URL(e).hostname}catch(t){return console.log("error on creating URL",t),null}}(e.url),") by ")),r.a.createElement("span",{className:"capitalize"},"".concat(e.author," ")),r.a.createElement("span",{className:"news_feed__info_gray"},Object(f.a)(new Date(e.created_at),{addSuffix:!1})),r.a.createElement("span",{className:"pointer",onClick:function(){return l(t)}}," ","[ hide ]"))))})))),r.a.createElement("div",{className:"flex mt-16 justify-end"},0!==o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:n,className:"primary bold heading-3 pointer"},"Previous"),r.a.createElement("div",{className:"primary bold heading-3 pointer",style:{margin:"auto 10px"}},"|")),r.a.createElement("div",{onClick:a,className:"primary bold heading-3 pointer"},"Next")))}var g=a(6),E=a.n(g);function v(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(u.a)(o,2),f=l[0],d=l[1],g=Object(n.useState)(0),v=Object(u.a)(g,2),b=v[0],N=v[1],y=Object(n.useState)({}),k=Object(u.a)(y,2),x=k[0],_=k[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),C=j[0],S=j[1];function L(){return(L=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===f){e.next=11;break}return e.next=4,fetch("https://hn.algolia.com/api/v1/search?query=".concat(f,"&page=").concat(b));case 4:return t=e.sent,e.next=7,t.json();case 7:t=e.sent,p(f+b,JSON.stringify(t.hits)),c(t.hits),V(t.hits);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function V(e){var t=[],a=[];e.forEach((function(e){t.push(e.points),a.push(e.author)})),_({chart:{toolbar:{show:!1}},legend:{show:!0},grid:{show:!0},stroke:{width:3,curve:"straight"},theme:{monochrome:{enabled:!0,color:"#f06506"}},yaxis:{labels:{formatter:function(e){return e}},title:{text:"Votes"}},xaxis:{categories:a,labels:{show:!0},title:{text:"Authors"}}}),S([{name:"Votes",data:t}])}function J(){var e,t=(e=f+b,localStorage.getItem(e));null===t?function(){L.apply(this,arguments)}():(t=JSON.parse(t),c(t),V(t))}return Object(n.useEffect)((function(){J()}),[f,b]),Object(n.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e),a=t.get("search"),n=t.get("page");d(a||"css"),null!==n&&N(parseInt(n))}),[]),r.a.createElement("div",{className:"table_container"},r.a.createElement("div",{className:"text-center heading-1 primary bold mt-16 mb-16"},"Hacker News"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target.search.value;window.location.href="/hacker-news/?search=".concat(t,"&page=",0),N(0),d(t)},className:"text-right mb-16"},r.a.createElement(h,{name:"search",defaultValue:f,className:"mr-16"}),r.a.createElement(m,{type:"submit"},"Search")),r.a.createElement(w,{data:a,onClickNext:function(){window.location.href="/hacker-news/?search=".concat(f,"&page=").concat(b+1)},onClickPrev:function(){window.location.href="/hacker-news/?search=".concat(f,"&page=").concat(b-1)},incrementVote:function(e){var t=a;t[e].points=a[e].points+1,p(f+b,JSON.stringify(t)),J()},hideNews:function(e){var t=a;t.splice(e,1),p(f+b,JSON.stringify(t)),J()},page:b}),r.a.createElement(E.a,{options:x,series:C,type:"line",width:"100%",height:"300px"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.61d5d737.chunk.js.map